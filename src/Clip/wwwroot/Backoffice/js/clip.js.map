{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/Clip/Backoffice/js/clip.ts","src/Clip/Backoffice/js/components/_module.ts","src/Clip/Backoffice/js/components/overview.controller.ts","src/Clip/Backoffice/js/services/_module.ts","src/Clip/Backoffice/js/services/service.ts"],"names":[],"mappings":"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","file":"clip.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { ComponentsModule } from './components/_module';\r\nimport { ServicesModule } from './services/_module';\r\n\r\nconst name = 'clip';\r\n\r\nangular.module(name, [\r\n    ServicesModule,\r\n    ComponentsModule,\r\n]);\r\n\r\nangular.module('umbraco').requires.push(name);\r\n","import { OverviewController } from './overview.controller';\r\n\r\nexport const ComponentsModule = angular\r\n    .module('clip.components', [])\r\n    .controller(OverviewController.controllerName, OverviewController)\r\n    .name;","export class OverviewController {\r\n\r\n    public static controllerName = 'Clip.Overview.Controller';\r\n\r\n    config!: IClipConfigModel;\r\n    groups: Array<UmbUserGroup> = [];\r\n    allContentTypes: Array<UmbContentType> = [];\r\n\r\n    name!: string;\r\n\r\n    contentTypeSyncModel: { [key: string]: Array<UmbContentType> } = {};\r\n\r\n    private _filterCssClass = 'not-allowed not-published';\r\n\r\n    constructor(\r\n        private $q,\r\n        private clipService: IClipService,\r\n        private editorService,\r\n        private localizationService,\r\n        private notificationsService,\r\n        private contentTypeResource,\r\n        private userGroupsResource) {\r\n    }\r\n\r\n    private _getContentTypeIcon(type) {\r\n        type.icon = this.allContentTypes.find(t => t.key === type.key)?.icon;\r\n    }\r\n\r\n    $onInit = async () => {\r\n        const promises = [\r\n            this.contentTypeResource.getAll(),\r\n            this.clipService.get(),\r\n            this.userGroupsResource.getUserGroups({ onlyCurrentUserGroups: false }),\r\n            this.localizationService.localize('treeHeaders_contentCreationRules'),\r\n        ];\r\n\r\n        [this.allContentTypes, this.config, this.groups, this.name] = await this.$q.all(promises);\r\n\r\n        this.config.groups.forEach(c => {\r\n            if (!c.groupId) return;\r\n\r\n            const group = this.groups.find(g => g.id == c.groupId);\r\n            if (!group) return;\r\n\r\n            c.icon = group?.icon;\r\n            c.groupName = group?.name;\r\n\r\n            let contentTypeSyncModel: Array<UmbContentType> = [];\r\n\r\n            c.contentTypeKeys.forEach(key => {\r\n                const contentType = this.allContentTypes.find(x => x.key === key);\r\n                if (!contentType) return;\r\n\r\n                contentTypeSyncModel.push(contentType);\r\n            });\r\n\r\n            this.contentTypeSyncModel[c.groupId] = contentTypeSyncModel;\r\n        });\r\n\r\n        this.config.contentTypeCounts.forEach(c => {\r\n            const type = this.allContentTypes.find(t => t.key === c.key);\r\n            if (!type) return;\r\n\r\n            c.icon = type.icon;\r\n            c.name = type.name;\r\n        });\r\n    }\r\n\r\n    removeGroup = index => {\r\n        const g = this.config.groups[index];\r\n        delete this.contentTypeResource[g.groupId];\r\n        this.config.groups.splice(index, 1);\r\n    }\r\n\r\n    addGroup = () => {\r\n        const groupPickerOptions = {\r\n            submit: model => {\r\n                model.selection.forEach(s => {\r\n                    const idx = this.config.groups.findIndex(x => x.groupId == s.id);\r\n                    if (idx !== -1) return;\r\n\r\n                    this.config.groups.push({\r\n                        icon: s.icon,\r\n                        groupId: s.id,\r\n                        groupName: s.name,\r\n                        contentTypeKeys: [],\r\n                    });\r\n                });\r\n\r\n                this.editorService.close();\r\n            },\r\n            close: () => this.editorService.close()\r\n        };\r\n\r\n        this.editorService.userGroupPicker(groupPickerOptions);\r\n    }\r\n\r\n    addContentType(groupId) {\r\n        const typePickerOptions = {\r\n            multiPicker: false,\r\n            filterCssClass: this._filterCssClass,\r\n            filter: item => (this.contentTypeSyncModel[groupId] || [])\r\n                .some(x => x.id == item.id), // coerce string to int                \r\n            submit: model => {\r\n                const valueArray = this.contentTypeSyncModel[groupId] || [];\r\n                const value = model.selection[0];\r\n\r\n                this._getContentTypeIcon(value);\r\n                valueArray.push(value);\r\n\r\n                this.contentTypeSyncModel[groupId] = valueArray;\r\n                this.editorService.close();\r\n            },\r\n            close: () => this.editorService.close()\r\n        };\r\n\r\n        this.editorService.contentTypePicker(typePickerOptions);\r\n    }\r\n\r\n    removeContentType(type, groupId) {\r\n        const idx = this.contentTypeSyncModel[groupId].findIndex(x => x.key === type.key);\r\n        this.contentTypeSyncModel[groupId].splice(idx, 1);\r\n    }\r\n\r\n    addContentTypeLimit() {\r\n        const typePickerOptions = {\r\n            multiPicker: false,\r\n            filterCssClass: this._filterCssClass,\r\n            filter: item => this.config.contentTypeCounts.some(x => x.id == item.id), // coerce string to int                \r\n            submit: model => {\r\n                const value: IClipContentTypeCountModel = model.selection[0];\r\n                value.count = this.config.existingItemCounts ? this.config.existingItemCounts[value.key] : '';\r\n                this._getContentTypeIcon(value);\r\n\r\n                this.config.contentTypeCounts.push(value);\r\n                this.editorService.close();\r\n            },\r\n            close: () => this.editorService.close()\r\n        };\r\n\r\n        this.editorService.contentTypePicker(typePickerOptions);\r\n    }\r\n\r\n    removeContentTypeCount(type) {\r\n        const idx = this.config.contentTypeCounts.findIndex(x => x.id === type.id);\r\n        this.config.contentTypeCounts.splice(idx, 1);\r\n    }\r\n\r\n    save() {\r\n        let config: IClipConfigModel = {\r\n            groups: [],\r\n            contentTypeCounts: this.config.contentTypeCounts,\r\n        };\r\n\r\n        Object.keys(this.contentTypeSyncModel).forEach(k => {\r\n            config.groups.push({\r\n                groupId: +k,\r\n                contentTypeKeys: this.contentTypeSyncModel[+k].map(x => x.key)\r\n            });\r\n        });\r\n\r\n        this.clipService.save(config)\r\n            .then(\r\n                resp => this.notificationsService.success('Success', resp),\r\n                err => this.notificationsService.error('Error', err),\r\n            );\r\n    }\r\n}\r\n","import { ClipService } from './service';\r\n\r\nexport const ServicesModule = angular\r\n    .module('clip.services', [])\r\n    .factory(ClipService.serviceName, ClipService)\r\n    .name;","export class ClipService implements IClipService {\r\n\r\n    public static serviceName = 'clipService';\r\n\r\n    constructor(private $http, private umbRequestHelper) {\r\n    }\r\n\r\n    private _request = (method: 'POST' | 'GET', url: string, data?: object) => {\r\n        url = `${Umbraco.Sys.ServerVariables.Clip.configurationApiBaseUrl}${url}`;\r\n\r\n        return this.umbRequestHelper.resourcePromise(\r\n            method === 'POST' ? this.$http.post(url, data)\r\n                : this.$http.get(url),\r\n            'Something broke'\r\n        );\r\n    }\r\n\r\n    save = (config: IClipConfigModel) => this._request('POST', 'Save', config);\r\n\r\n    get = () => this._request('GET', 'Get');\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvQ2xpcC9CYWNrb2ZmaWNlL2pzL2NsaXAudHMiLCJzcmMvQ2xpcC9CYWNrb2ZmaWNlL2pzL2NvbXBvbmVudHMvX21vZHVsZS50cyIsInNyYy9DbGlwL0JhY2tvZmZpY2UvanMvY29tcG9uZW50cy9vdmVydmlldy5jb250cm9sbGVyLnRzIiwic3JjL0NsaXAvQmFja29mZmljZS9qcy9zZXJ2aWNlcy9fbW9kdWxlLnRzIiwic3JjL0NsaXAvQmFja29mZmljZS9qcy9zZXJ2aWNlcy9zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxrREFBd0Q7QUFDeEQsZ0RBQW9EO0FBRXBELE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQztBQUVwQixPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRTtJQUNqQix3QkFBYztJQUNkLDBCQUFnQjtDQUNuQixDQUFDLENBQUM7QUFFSCxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Ozs7O0FDVjlDLCtEQUEyRDtBQUU5QyxRQUFBLGdCQUFnQixHQUFHLE9BQU87S0FDbEMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLEVBQUUsQ0FBQztLQUM3QixVQUFVLENBQUMsd0NBQWtCLENBQUMsY0FBYyxFQUFFLHdDQUFrQixDQUFDO0tBQ2pFLElBQUksQ0FBQzs7Ozs7Ozs7Ozs7Ozs7QUNMVixNQUFhLGtCQUFrQjtJQWMzQixZQUNZLEVBQUUsRUFDRixXQUF5QixFQUN6QixhQUFhLEVBQ2IsbUJBQW1CLEVBQ25CLG9CQUFvQixFQUNwQixtQkFBbUIsRUFDbkIsa0JBQWtCO1FBTmxCLE9BQUUsR0FBRixFQUFFLENBQUE7UUFDRixnQkFBVyxHQUFYLFdBQVcsQ0FBYztRQUN6QixrQkFBYSxHQUFiLGFBQWEsQ0FBQTtRQUNiLHdCQUFtQixHQUFuQixtQkFB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O0FBTEwsa0NBb0JDO0FBbEJpQix1QkFBVyxHQUFHLGFBQWEsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCB7IENvbXBvbmVudHNNb2R1bGUgfSBmcm9tICcuL2NvbXBvbmVudHMvX21vZHVsZSc7XHJcbmltcG9ydCB7IFNlcnZpY2VzTW9kdWxlIH0gZnJvbSAnLi9zZXJ2aWNlcy9fbW9kdWxlJztcclxuXHJcbmNvbnN0IG5hbWUgPSAnY2xpcCc7XHJcblxyXG5hbmd1bGFyLm1vZHVsZShuYW1lLCBbXHJcbiAgICBTZXJ2aWNlc01vZHVsZSxcclxuICAgIENvbXBvbmVudHNNb2R1bGUsXHJcbl0pO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoJ3VtYnJhY28nKS5yZXF1aXJlcy5wdXNoKG5hbWUpO1xyXG4iLCJpbXBvcnQgeyBPdmVydmlld0NvbnRyb2xsZXIgfSBmcm9tICcuL292ZXJ2aWV3LmNvbnRyb2xsZXInO1xyXG5cclxuZXhwb3J0IGNvbnN0IENvbXBvbmVudHNNb2R1bGUgPSBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdjbGlwLmNvbXBvbmVudHMnLCBbXSlcclxuICAgIC5jb250cm9sbGVyKE92ZXJ2aWV3Q29udHJvbGxlci5jb250cm9sbGVyTmFtZSwgT3ZlcnZpZXdDb250cm9sbGVyKVxyXG4gICAgLm5hbWU7IiwiZXhwb3J0IGNsYXNzIE92ZXJ2aWV3Q29udHJvbGxlciB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjb250cm9sbGVyTmFtZSA9ICdDbGlwLk92ZXJ2aWV3LkNvbnRyb2xsZXInO1xyXG5cclxuICAgIGNvbmZpZyE6IElDbGlwQ29uZmlnTW9kZWw7XHJcbiAgICBncm91cHM6IEFycmF5PFVtYlVzZXJHcm91cD4gPSBbXTtcclxuICAgIGFsbENvbnRlbnRUeXBlczogQXJyYXk8VW1iQ29udGVudFR5cGU+ID0gW107XHJcblxyXG4gICAgbmFtZSE6IHN0cmluZztcclxuXHJcbiAgICBjb250ZW50VHlwZVN5bmNNb2RlbDogeyBba2V5OiBzdHJpbmddOiBBcnJheTxVbWJDb250ZW50VHlwZT4gfSA9IHt9O1xyXG5cclxuICAgIHByaXZhdGUgX2ZpbHRlckNzc0NsYXNzID0gJ25vdC1hbGxvd2VkIG5vdC1wdWJsaXNoZWQnO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHByaXZhdGUgJHEsXHJcbiAgICAgICAgcHJpdmF0ZSBjbGlwU2VydmljZTogSUNsaXBTZXJ2aWNlLFxyXG4gICAgICAgIHByaXZhdGUgZWRpdG9yU2VydmljZSxcclxuICAgICAgICBwcml2YXRlIGxvY2FsaXphdGlvblNlcnZpY2UsXHJcbiAgICAgICAgcHJpdmF0ZSBub3RpZmljYXRpb25zU2VydmljZSxcclxuICAgICAgICBwcml2YXRlIGNvbnRlbnRUeXBlUmVzb3VyY2UsXHJcbiAgICAgICAgcHJpdmF0ZSB1c2VyR3JvdXBzUmVzb3VyY2UpIHtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9nZXRDb250ZW50VHlwZUljb24odHlwZSkge1xyXG4gICAgICAgIHR5cGUuaWNvbiA9IHRoaXMuYWxsQ29udGVudFR5cGVzLmZpbmQodCA9PiB0LmtleSA9PT0gdHlwZS5rZXkpPy5pY29uO1xyXG4gICAgfVxyXG5cclxuICAgICRvbkluaXQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudFR5cGVSZXNvdXJjZS5nZXRBbGwoKSxcclxuICAgICAgICAgICAgdGhpcy5jbGlwU2VydmljZS5nZXQoKSxcclxuICAgICAgICAgICAgdGhpcy51c2VyR3JvdXBzUmVzb3VyY2UuZ2V0VXNlckdyb3Vwcyh7IG9ubHlDdXJyZW50VXNlckdyb3VwczogZmFsc2UgfSksXHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxpemF0aW9uU2VydmljZS5sb2NhbGl6ZSgndHJlZUhlYWRlcnNfY29udGVudENyZWF0aW9uUnVsZXMnKSxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBbdGhpcy5hbGxDb250ZW50VHlwZXMsIHRoaXMuY29uZmlnLCB0aGlzLmdyb3VwcywgdGhpcy5uYW1lXSA9IGF3YWl0IHRoaXMuJHEuYWxsKHByb21pc2VzKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb25maWcuZ3JvdXBzLmZvckVhY2goYyA9PiB7XHJcbiAgICAgICAgICAgIGlmICghYy5ncm91cElkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHRoaXMuZ3JvdXBzLmZpbmQoZyA9PiBnLmlkID09IGMuZ3JvdXBJZCk7XHJcbiAgICAgICAgICAgIGlmICghZ3JvdXApIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGMuaWNvbiA9IGdyb3VwPy5pY29uO1xyXG4gICAgICAgICAgICBjLmdyb3VwTmFtZSA9IGdyb3VwPy5uYW1lO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNvbnRlbnRUeXBlU3luY01vZGVsOiBBcnJheTxVbWJDb250ZW50VHlwZT4gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGMuY29udGVudFR5cGVLZXlzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gdGhpcy5hbGxDb250ZW50VHlwZXMuZmluZCh4ID0+IHgua2V5ID09PSBrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjb250ZW50VHlwZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlU3luY01vZGVsLnB1c2goY29udGVudFR5cGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudFR5cGVTeW5jTW9kZWxbYy5ncm91cElkXSA9IGNvbnRlbnRUeXBlU3luY01vZGVsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbmZpZy5jb250ZW50VHlwZUNvdW50cy5mb3JFYWNoKGMgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5hbGxDb250ZW50VHlwZXMuZmluZCh0ID0+IHQua2V5ID09PSBjLmtleSk7XHJcbiAgICAgICAgICAgIGlmICghdHlwZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgYy5pY29uID0gdHlwZS5pY29uO1xyXG4gICAgICAgICAgICBjLm5hbWUgPSB0eXBlLm5hbWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlR3JvdXAgPSBpbmRleCA9PiB7XHJcbiAgICAgICAgY29uc3QgZyA9IHRoaXMuY29uZmlnLmdyb3Vwc1tpbmRleF07XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuY29udGVudFR5cGVSZXNvdXJjZVtnLmdyb3VwSWRdO1xyXG4gICAgICAgIHRoaXMuY29uZmlnLmdyb3Vwcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEdyb3VwID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwUGlja2VyT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgc3VibWl0OiBtb2RlbCA9PiB7XHJcbiAgICAgICAgICAgICAgICBtb2RlbC5zZWxlY3Rpb24uZm9yRWFjaChzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHggPSB0aGlzLmNvbmZpZy5ncm91cHMuZmluZEluZGV4KHggPT4geC5ncm91cElkID09IHMuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpZHggIT09IC0xKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmdyb3Vwcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogcy5pY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cElkOiBzLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cE5hbWU6IHMubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGVLZXlzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yU2VydmljZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjbG9zZTogKCkgPT4gdGhpcy5lZGl0b3JTZXJ2aWNlLmNsb3NlKClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmVkaXRvclNlcnZpY2UudXNlckdyb3VwUGlja2VyKGdyb3VwUGlja2VyT3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ29udGVudFR5cGUoZ3JvdXBJZCkge1xyXG4gICAgICAgIGNvbnN0IHR5cGVQaWNrZXJPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBtdWx0aVBpY2tlcjogZmFsc2UsXHJcbiAgICAgICAgICAgIGZpbHRlckNzc0NsYXNzOiB0aGlzLl9maWx0ZXJDc3NDbGFzcyxcclxuICAgICAgICAgICAgZmlsdGVyOiBpdGVtID0+ICh0aGlzLmNvbnRlbnRUeXBlU3luY01vZGVsW2dyb3VwSWRdIHx8IFtdKVxyXG4gICAgICAgICAgICAgICAgLnNvbWUoeCA9PiB4LmlkID09IGl0ZW0uaWQpLCAvLyBjb2VyY2Ugc3RyaW5nIHRvIGludCAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgc3VibWl0OiBtb2RlbCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUFycmF5ID0gdGhpcy5jb250ZW50VHlwZVN5bmNNb2RlbFtncm91cElkXSB8fCBbXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbW9kZWwuc2VsZWN0aW9uWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX2dldENvbnRlbnRUeXBlSWNvbih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZUFycmF5LnB1c2godmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFR5cGVTeW5jTW9kZWxbZ3JvdXBJZF0gPSB2YWx1ZUFycmF5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3JTZXJ2aWNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNsb3NlOiAoKSA9PiB0aGlzLmVkaXRvclNlcnZpY2UuY2xvc2UoKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZWRpdG9yU2VydmljZS5jb250ZW50VHlwZVBpY2tlcih0eXBlUGlja2VyT3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlQ29udGVudFR5cGUodHlwZSwgZ3JvdXBJZCkge1xyXG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuY29udGVudFR5cGVTeW5jTW9kZWxbZ3JvdXBJZF0uZmluZEluZGV4KHggPT4geC5rZXkgPT09IHR5cGUua2V5KTtcclxuICAgICAgICB0aGlzLmNvbnRlbnRUeXBlU3luY01vZGVsW2dyb3VwSWRdLnNwbGljZShpZHgsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENvbnRlbnRUeXBlTGltaXQoKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZVBpY2tlck9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIG11bHRpUGlja2VyOiBmYWxzZSxcclxuICAgICAgICAgICAgZmlsdGVyQ3NzQ2xhc3M6IHRoaXMuX2ZpbHRlckNzc0NsYXNzLFxyXG4gICAgICAgICAgICBmaWx0ZXI6IGl0ZW0gPT4gdGhpcy5jb25maWcuY29udGVudFR5cGVDb3VudHMuc29tZSh4ID0+IHguaWQgPT0gaXRlbS5pZCksIC8vIGNvZXJjZSBzdHJpbmcgdG8gaW50ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzdWJtaXQ6IG1vZGVsID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlOiBJQ2xpcENvbnRlbnRUeXBlQ291bnRNb2RlbCA9IG1vZGVsLnNlbGVjdGlvblswXTtcclxuICAgICAgICAgICAgICAgIHZhbHVlLmNvdW50ID0gdGhpcy5jb25maWcuZXhpc3RpbmdJdGVtQ291bnRzID8gdGhpcy5jb25maWcuZXhpc3RpbmdJdGVtQ291bnRzW3ZhbHVlLmtleV0gOiAnJztcclxuICAgICAgICAgICAgICAgIHRoaXMuX2dldENvbnRlbnRUeXBlSWNvbih2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcuY29udGVudFR5cGVDb3VudHMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvclNlcnZpY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2xvc2U6ICgpID0+IHRoaXMuZWRpdG9yU2VydmljZS5jbG9zZSgpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5lZGl0b3JTZXJ2aWNlLmNvbnRlbnRUeXBlUGlja2VyKHR5cGVQaWNrZXJPcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVDb250ZW50VHlwZUNvdW50KHR5cGUpIHtcclxuICAgICAgICBjb25zdCBpZHggPSB0aGlzLmNvbmZpZy5jb250ZW50VHlwZUNvdW50cy5maW5kSW5kZXgoeCA9PiB4LmlkID09PSB0eXBlLmlkKTtcclxuICAgICAgICB0aGlzLmNvbmZpZy5jb250ZW50VHlwZUNvdW50cy5zcGxpY2UoaWR4LCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBzYXZlKCkge1xyXG4gICAgICAgIGxldCBjb25maWc6IElDbGlwQ29uZmlnTW9kZWwgPSB7XHJcbiAgICAgICAgICAgIGdyb3VwczogW10sXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlQ291bnRzOiB0aGlzLmNvbmZpZy5jb250ZW50VHlwZUNvdW50cyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmNvbnRlbnRUeXBlU3luY01vZGVsKS5mb3JFYWNoKGsgPT4ge1xyXG4gICAgICAgICAgICBjb25maWcuZ3JvdXBzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgZ3JvdXBJZDogK2ssXHJcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZUtleXM6IHRoaXMuY29udGVudFR5cGVTeW5jTW9kZWxbK2tdLm1hcCh4ID0+IHgua2V5KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jbGlwU2VydmljZS5zYXZlKGNvbmZpZylcclxuICAgICAgICAgICAgLnRoZW4oXHJcbiAgICAgICAgICAgICAgICByZXNwID0+IHRoaXMubm90aWZpY2F0aW9uc1NlcnZpY2Uuc3VjY2VzcygnU3VjY2VzcycsIHJlc3ApLFxyXG4gICAgICAgICAgICAgICAgZXJyID0+IHRoaXMubm90aWZpY2F0aW9uc1NlcnZpY2UuZXJyb3IoJ0Vycm9yJywgZXJyKSxcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDbGlwU2VydmljZSB9IGZyb20gJy4vc2VydmljZSc7XHJcblxyXG5leHBvcnQgY29uc3QgU2VydmljZXNNb2R1bGUgPSBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdjbGlwLnNlcnZpY2VzJywgW10pXHJcbiAgICAuZmFjdG9yeShDbGlwU2VydmljZS5zZXJ2aWNlTmFtZSwgQ2xpcFNlcnZpY2UpXHJcbiAgICAubmFtZTsiLCJleHBvcnQgY2xhc3MgQ2xpcFNlcnZpY2UgaW1wbGVtZW50cyBJQ2xpcFNlcnZpY2Uge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2VydmljZU5hbWUgPSAnY2xpcFNlcnZpY2UnO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgJGh0dHAsIHByaXZhdGUgdW1iUmVxdWVzdEhlbHBlcikge1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX3JlcXVlc3QgPSAobWV0aG9kOiAnUE9TVCcgfCAnR0VUJywgdXJsOiBzdHJpbmcsIGRhdGE/OiBvYmplY3QpID0+IHtcclxuICAgICAgICB1cmwgPSBgJHtVbWJyYWNvLlN5cy5TZXJ2ZXJWYXJpYWJsZXMuQ2xpcC5jb25maWd1cmF0aW9uQXBpQmFzZVVybH0ke3VybH1gO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy51bWJSZXF1ZXN0SGVscGVyLnJlc291cmNlUHJvbWlzZShcclxuICAgICAgICAgICAgbWV0aG9kID09PSAnUE9TVCcgPyB0aGlzLiRodHRwLnBvc3QodXJsLCBkYXRhKVxyXG4gICAgICAgICAgICAgICAgOiB0aGlzLiRodHRwLmdldCh1cmwpLFxyXG4gICAgICAgICAgICAnU29tZXRoaW5nIGJyb2tlJ1xyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZSA9IChjb25maWc6IElDbGlwQ29uZmlnTW9kZWwpID0+IHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCAnU2F2ZScsIGNvbmZpZyk7XHJcblxyXG4gICAgZ2V0ID0gKCkgPT4gdGhpcy5fcmVxdWVzdCgnR0VUJywgJ0dldCcpO1xyXG59Il19"}